<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Telegram Videos Demo</title>
</head>
<body>
  <h2>Videos</h2>
  <div id="videos"></div>
  <script>
    async function loadVideos() {
      try {
        const res = await fetch('http://localhost:5000/api/videos');
        const videos = await res.json();
        const container = document.getElementById('videos');
        container.innerHTML = '';
        videos.forEach(v => {
          const card = document.createElement('div');
          card.style = "margin:1em 0;padding:1em;border:1px solid #ddd;";
          card.innerHTML = `
            <h3>${v.title}</h3>
            <video controls width="320" src="http://localhost:5000/api/video-file/${v.file_id}"></video>
            <p>${v.description}</p>
            <p>Tags: ${Array.isArray(v.tags) ? v.tags.join(', ') : v.tags}</p>
            <p>Length: ${v.video_length}s</p>
          `;
          container.appendChild(card);
        });
      } catch (e) {
        document.getElementById('videos').innerHTML = 'Could not load videos. Check backend and console for errors.';
      }
    }
    window.onload = loadVideos;
  </script>
</body>
</html>
